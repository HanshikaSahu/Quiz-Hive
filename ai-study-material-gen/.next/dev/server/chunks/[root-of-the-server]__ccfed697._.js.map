{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 58, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/KIIT0001/QuizHive/ai-study-material-gen/inngest/client.js"],"sourcesContent":["import { Inngest } from \"inngest\";\r\n\r\n// Create a client to send and receive events\r\nexport const inngest = new Inngest({ id: \"quizHive\" });"],"names":[],"mappings":";;;;AAAA;;AAGO,MAAM,UAAU,IAAI,6JAAO,CAAC;IAAE,IAAI;AAAW"}},
    {"offset": {"line": 71, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/KIIT0001/QuizHive/ai-study-material-gen/configs/db.js"],"sourcesContent":["import { drizzle } from \"drizzle-orm/neon-http\";\r\nimport { neon } from \"@neondatabase/serverless\";\r\n\r\nconst sql = neon(process.env.DATABASE_URL); // server env, not NEXT_PUBLIC\r\n\r\nexport const db = drizzle(sql);"],"names":[],"mappings":";;;;AAAA;AACA;;;AAEA,MAAM,MAAM,IAAA,gKAAI,EAAC,QAAQ,GAAG,CAAC,YAAY,GAAG,8BAA8B;AAEnE,MAAM,KAAK,IAAA,qKAAO,EAAC"}},
    {"offset": {"line": 85, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/KIIT0001/QuizHive/ai-study-material-gen/inngest/functions.js"],"sourcesContent":["// lib/inngest-functions.js\r\nimport { USER_TABLE } from \"@/configs/schema\";\r\nimport { inngest } from \"./client\"; // keep this if your client file exports inngest\r\nimport { db } from \"../configs/db\";\r\nimport { eq } from \"drizzle-orm\";\r\n\r\nexport const helloWorld = inngest.createFunction(\r\n  { id: \"hello-world\" },\r\n  { event: \"test/hello.world\" },\r\n  async ({ event, step }) => {\r\n    const {user} = event.data;\r\n    await step.sleep(\"wait-a-moment\", \"1s\");\r\n    return { message: `Hello ${event.data.email}!` };\r\n  }\r\n);\r\n\r\nexport const CreateNewUser = inngest.createFunction(\r\n  { id: \"create-user\" },\r\n  { event: \"user.create\" },\r\n  async ({ event, step }) => {\r\n    const { email, name } = event.data ?? {};\r\n\r\n    const result = await step.run(\"Check User and create New if Not in DB\", async () => {\r\n      if (!email) {\r\n        return { created: false, reason: \"missing email\" };\r\n      }\r\n\r\n      const existing = await db\r\n        .select()\r\n        .from(USER_TABLE)\r\n        .where(eq(USER_TABLE.email, email));\r\n\r\n      if (!existing || existing.length === 0) {\r\n        await db.insert(USER_TABLE).values({\r\n          name: name ?? null,\r\n          email,\r\n        });\r\n        return { created: true };\r\n      }\r\n\r\n      return { created: false, reason: \"already exists\" };\r\n    });\r\n\r\n    return { status: \"success\", detail: result };\r\n  }\r\n);\r\n"],"names":[],"mappings":"AAAA,2BAA2B;;;;;;;;;;;;AAE3B,2MAAoC,gDAAgD;AACpF;AACA;;;;;AAEO,MAAM,aAAa,8HAAO,CAAC,cAAc,CAC9C;IAAE,IAAI;AAAc,GACpB;IAAE,OAAO;AAAmB,GAC5B,OAAO,EAAE,KAAK,EAAE,IAAI,EAAE;IACpB,MAAM,EAAC,IAAI,EAAC,GAAG,MAAM,IAAI;IACzB,MAAM,KAAK,KAAK,CAAC,iBAAiB;IAClC,OAAO;QAAE,SAAS,CAAC,MAAM,EAAE,MAAM,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC;IAAC;AACjD;AAGK,MAAM,gBAAgB,8HAAO,CAAC,cAAc,CACjD;IAAE,IAAI;AAAc,GACpB;IAAE,OAAO;AAAc,GACvB,OAAO,EAAE,KAAK,EAAE,IAAI,EAAE;IACpB,MAAM,EAAE,KAAK,EAAE,IAAI,EAAE,GAAG,MAAM,IAAI,IAAI,CAAC;IAEvC,MAAM,SAAS,MAAM,KAAK,GAAG,CAAC,0CAA0C;QACtE,IAAI,CAAC,OAAO;YACV,OAAO;gBAAE,SAAS;gBAAO,QAAQ;YAAgB;QACnD;QAEA,MAAM,WAAW,MAAM,qHAAE,CACtB,MAAM,GACN,IAAI,CAAC,YACL,KAAK,CAAC,IAAA,0KAAE,EAAC,WAAW,KAAK,EAAE;QAE9B,IAAI,CAAC,YAAY,SAAS,MAAM,KAAK,GAAG;YACtC,MAAM,qHAAE,CAAC,MAAM,CAAC,YAAY,MAAM,CAAC;gBACjC,MAAM,QAAQ;gBACd;YACF;YACA,OAAO;gBAAE,SAAS;YAAK;QACzB;QAEA,OAAO;YAAE,SAAS;YAAO,QAAQ;QAAiB;IACpD;IAEA,OAAO;QAAE,QAAQ;QAAW,QAAQ;IAAO;AAC7C"}},
    {"offset": {"line": 152, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/KIIT0001/QuizHive/ai-study-material-gen/app/api/inngest/route.js"],"sourcesContent":["import { serve } from \"inngest/next\";\r\nimport { inngest } from \"../../../inngest/client\";\r\nimport { helloWorld, CreateNewUser } from \"../../../inngest/functions\";\r\n\r\n// Create an API that serves zero functions\r\nexport const { GET, POST, PUT } = serve({\r\n  client: inngest,\r\n  functions: [\r\n    /* your functions will be passed here later! */\r\n    helloWorld,\r\n    CreateNewUser,\r\n  ],\r\n});"],"names":[],"mappings":";;;;;;;;AAAA;AACA;AACA;;;;AAGO,MAAM,EAAE,GAAG,EAAE,IAAI,EAAE,GAAG,EAAE,GAAG,IAAA,0IAAK,EAAC;IACtC,QAAQ,8HAAO;IACf,WAAW;QACT,6CAA6C,GAC7C,oIAAU;QACV,uIAAa;KACd;AACH"}}]
}