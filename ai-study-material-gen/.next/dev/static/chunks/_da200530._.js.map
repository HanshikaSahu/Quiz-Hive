{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/KIIT0001/QuizHive/ai-study-material-gen/configs/schema.js"],"sourcesContent":["import { pgTable, serial, text, boolean, varchar } from \"drizzle-orm/pg-core\";\r\n\r\nexport const USER_TABLE = pgTable(\"users\", {\r\n  id: serial(\"id\").primaryKey(),\r\n  name: varchar(\"name\", { length: 100 }).notNull(),\r\n  email: varchar(\"email\", { length: 255 }).notNull(),\r\n  isMember: boolean(\"is_member\").default(false),\r\n});\r\n"],"names":[],"mappings":";;;;AAAA;AAAA;AAAA;AAAA;;AAEO,MAAM,aAAa,IAAA,mKAAO,EAAC,SAAS;IACzC,IAAI,IAAA,8KAAM,EAAC,MAAM,UAAU;IAC3B,MAAM,IAAA,gLAAO,EAAC,QAAQ;QAAE,QAAQ;IAAI,GAAG,OAAO;IAC9C,OAAO,IAAA,gLAAO,EAAC,SAAS;QAAE,QAAQ;IAAI,GAAG,OAAO;IAChD,UAAU,IAAA,gLAAO,EAAC,aAAa,OAAO,CAAC;AACzC"}},
    {"offset": {"line": 30, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/KIIT0001/QuizHive/ai-study-material-gen/app/provider.js"],"sourcesContent":["\"use client\";\r\nimport { USER_TABLE } from '../configs/schema';   // keep your import\r\nimport { useUser } from '@clerk/nextjs';\r\nimport React, { useEffect } from 'react';\r\nimport { eq } from 'drizzle-orm';\r\n\r\nfunction Provider({ children }) {\r\n\r\n  const { user } = useUser();\r\n\r\n  useEffect(() => {\r\n    user && CheckIsNewUser();\r\n  }, [user]);\r\n\r\n  const CheckIsNewUser = async () => {\r\n    // ‚ùó THIS IS THE ONLY CHANGE:\r\n    // Instead of calling db directly, call your API route\r\n    await fetch(\"/api/check-user\", {\r\n      method: \"POST\",\r\n      headers: { \"Content-Type\": \"application/json\" },\r\n      body: JSON.stringify({\r\n        name: user?.fullName,\r\n        email: user?.primaryEmailAddress?.emailAddress,\r\n      }),\r\n    });\r\n  };\r\n\r\n  return (\r\n    <div>{children}</div>\r\n  );\r\n}\r\n\r\nexport default Provider;\r\n"],"names":[],"mappings":";;;;;AACA,6MAAkD,mBAAmB;AACrE;AACA;;;AAHA;;;;;AAMA,SAAS,SAAS,EAAE,QAAQ,EAAE;;IAE5B,MAAM,EAAE,IAAI,EAAE,GAAG,IAAA,qLAAO;IAExB,IAAA,0KAAS;8BAAC;YACR,QAAQ;QACV;6BAAG;QAAC;KAAK;IAET,MAAM,iBAAiB;QACrB,6BAA6B;QAC7B,sDAAsD;QACtD,MAAM,MAAM,mBAAmB;YAC7B,QAAQ;YACR,SAAS;gBAAE,gBAAgB;YAAmB;YAC9C,MAAM,KAAK,SAAS,CAAC;gBACnB,MAAM,MAAM;gBACZ,OAAO,MAAM,qBAAqB;YACpC;QACF;IACF;IAEA,qBACE,6LAAC;kBAAK;;;;;;AAEV;GAxBS;;QAEU,qLAAO;;;KAFjB;uCA0BM"}}]
}